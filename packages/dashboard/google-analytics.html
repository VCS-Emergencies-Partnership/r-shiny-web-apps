<!Doctype HTML>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JJ32M7WFS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JJ32M7WFS');
  //G-JJ32M7WFST my link
  //G-W79WXXP70S vcsep link
  
  // which pages are visited from sidebar:
  // latest_news_tab
  // resource_catalogue
  // vcs_report_sidebar
  //internal_reports_from_sidebar

  $(document).on('shiny:inputchanged', function(event) {
    if(event.value == 'unmetneed') {
    gtag('event', 'which_page_visited', {
      'event_category': 'page_visit',
      'event_label': event.name,
      'value': event.value
    }); 
      console.log(event.name)
      console.log(event.value)
    }
    
    else {
      if(event.value == 'Help') {
        gtag('event', 'which_page_visited', {
      'event_category': 'which_page_visited',
      'event_label': event.name,
      'value': event.value
    }); 
      console.log(event.name)
      console.log(event.value)
        
        }
        
        else {
          if(event.value == 'references') {
        gtag('event', 'which_page_visited', {
      'event_category': 'which_page_visited',
      'event_label': event.name,
      'value': event.value
    }); 
      console.log(event.name)
      console.log(event.value)
        
          }
          else {
            if(event.value == 'home') {
              gtag('event', 'which_page_visited', {
              'event_category': 'which_page_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          }
          
          else {
            if(event.value == 'latest_news_tab') {
              gtag('event', 'which_page_visited', {
              'event_category': 'which_page_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          } 
          else {
            if(event.value == 'resource_catalogue') {
              gtag('event', 'which_page_visited', {
              'event_category': 'which_page_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          }
          
          else {
            if(event.value == 'vcs_report_sidebar') {
              gtag('event', 'which_page_visited', {
              'event_category': 'which_page_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          }
          
          else {
            if(event.value == 'internal_reports_from_sidebar') {
              gtag('event', 'which_page_visited', {
              'event_category': 'which_page_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          } else {
             if(event.value == 'community_assets_sidebar') {
              gtag('event', 'which_page_visited', {
              'event_category': 'which_page_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      
});
  
  
  $(document).on('click', 'button', function() {
  ga('send', 'event', 'button', 'update plot');
});
  
  
  $(document).on('shin:click', function(e) {
          //community_assets_box
        //internal_reports_from_box
        //vcs_reports_box
        if(e.value == 'rfs_continue') {
              gtag('event', 'which_page_visited_box', {
              'event_category': 'which_page_visited_box',
              'event_label': e.name,
              'value': e.value
            }); 
              console.log(e.name)
              console.log(e.value)
            
            } 
//            else {
//              if(event.value == 'internal_reports_from_box') {
//              gtag('event', 'which_page_visited_box', {
//              'event_category': 'which_page_visited_box',
//              'event_label': event.name,
//              'value': event.value
//            }); 
//              console.log(event.name)
//              console.log(event.value)
//            
//            } else {
//                if(event.value == 'vcs_reports_box') {
//              gtag('event', 'which_page_visited_box', {
//              'event_category': 'which_page_visited',
//              'event_label': event.name,
//              'value': event.value
//            }); 
//              console.log(event.name)
//              console.log(event.value)
//            
//                            }
//                        }
//                    }
        });
  
  

</script>
