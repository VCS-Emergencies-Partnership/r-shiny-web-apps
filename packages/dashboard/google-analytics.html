<!Doctype HTML>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2195TLHNKC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2195TLHNKC');
  //G-JJ32M7WFST my link
  //G-W79WXXP70S vcsep link
  // my new link G-GBVQ47CXQQ
  //vcs new link G-2195TLHNKC
  
  // which pages are visited from sidebar:
  // latest_news_tab
  // resource_catalogue
  // vcs_report_sidebar
  //internal_reports_from_sidebar

  $(document).on('shiny:inputchanged', function(event) {
    if(event.value == 'unmetneed') {
    gtag('event', 'ri_tool_visited', {
      'event_category': 'ri_tool_visited',
      'event_label': event.name,
      'value': event.value
    }); 
      console.log(event.name)
      console.log(event.value)
    }
    
    else {
      if(event.value == 'Help') {
        gtag('event', 'help_visited', {
      'event_category': 'help_visited',
      'event_label': event.name,
      'value': event.value
    }); 
      console.log(event.name)
      console.log(event.value)
        
        }
        
        else {
          if(event.value == 'references') {
        gtag('event', 'refs_visited', {
      'event_category': 'refs_visited',
      'event_label': event.name,
      'value': event.value
    }); 
      console.log(event.name)
      console.log(event.value)
        
          }
          else {
            if(event.value == 'home') {
              gtag('event', 'home_visited', {
              'event_category': 'home_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          }
          
          else {
            if(event.value == 'latest_news_tab') {
              gtag('event', 'news_visited', {
              'event_category': 'news_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          } 
          else {
            if(event.value == 'resource_catalogue') {
              gtag('event', 'resources_visited', {
              'event_category': 'resources_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          }
          
          else {
            if(event.value == 'vcs_report_sidebar') {
              gtag('event', 'reports_visited', {
              'event_category': 'reports_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          }
          
          else {
            if(event.value == 'internal_reports_from_sidebar') {
              gtag('event', 'internal_dashboards_visited', {
              'event_category': 'internal_dashboards_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
          } else {
             if(event.value == 'community_assets_sidebar') {
              gtag('event', 'community_assets_visited', {
              'event_category': 'community_assets_visited',
              'event_label': event.name,
              'value': event.value
            }); 
              console.log(event.name)
              console.log(event.value)
            
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      
});


// event click on links to external sites
//community_assets_box
//internal_reports_from_box
//vcs_reports_box
// click on vcs reports box
$(document).on('click', 'a#vcs_reports_box.action-button.shiny-bound-input', function(e) {
    console.log("box click partner insight reports")
    console.log(e)
    gtag('event', 'clicked_through_to_partner_reports', {
      'event_category': 'clicked_through_to_partner_reports',
      'event_label': 'clicked_through_to_partner_reports',
      'value': $(e.currentTarget).val()
    });
    //console.log($(e.currentTarget).val())
      
});

$(document).on('click', 'a#internal_reports_from_box.action-button.shiny-bound-input', function(e) {
    console.log("box click dashboards")
    console.log(e)
    gtag('event', 'clicked_through_to_internal_dashboards', {
      'event_category': 'clicked_through_to_internal_dashboards',
      'event_label': 'clicked_through_to_internal_dashboards',
      'value': $(e.currentTarget).val()
    });
    //console.log($(e.currentTarget).val())
      
});

$(document).on('click', 'a#community_assets_box.action-button.shiny-bound-input', function(e) {
    console.log("box click community")
    console.log(e)
    gtag('event', 'clicked_through_to_community_assets', {
      'event_category': 'clicked_through_to_community_assets',
      'event_label': 'clicked_through_to_community_assets',
      'value': $(e.currentTarget).val()
    });
    //console.log($(e.currentTarget).val())
      
});

// did they click through 
//class="btn.btn-default.action-button.shiny-bound-input"
$(document).on('click', 'button#partner_reports_continue.btn.btn-default.action-button.shiny-bound-input', function(e) {
    console.log("click through partners")
    console.log(e)
    gtag('event', 'which_page_visited', {
      'event_category': 'which_page_visited',
      'event_label': 'vcs_reports_clicked_through',
      'value': $(e.currentTarget).val()
    });
});

$(document).on('click', 'button#webmap_continue.btn.btn-default.action-button.shiny-bound-input', function(e) {
    console.log("click through webmap")
    console.log(e)
    gtag('event', 'which_page_visited', {
      'event_category': 'which_page_visited',
      'event_label': 'webmap_clicked_through',
      'value': $(e.currentTarget).val()
    });
});

$(document).on('click', 'button#internal_ds_continue.btn.btn-default.action-button.shiny-bound-input', function(e) {
    console.log("click through internal dash")
    console.log(e)
    gtag('event', 'which_page_visited', {
      'event_category': 'which_page_visited',
      'event_label': 'internal_ds_clicked_through',
      'value': $(e.currentTarget).val()
    });
});


  
  

</script>
